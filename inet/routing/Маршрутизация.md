[study](./../../) > [inet](./../) > routing

# Маршрутизация

Routing - процесс определения маршрута следования информации в сетях связи.

[TOC]

## Cпособы адресации

### Classful Network

Адресное пространство протокола IPv4 делится на пять классов адресов: А, B, C, D, E.

Принадлежность адреса к классу задаётся первыми битами адреса. Каждый класс определяет либо соответствующий размер сети (классы A, B, C), либо сеть многоадресной передачи (класс D). Диапазон адресов класса E был зарезервирован для будущих или экспериментальных целей.

Использование адрессации на базе классов сейчас прекращено.

**Класс A:** `0aaaaaaa bbbbbbbb bbbbbbbb bbbbbbbb`

- Адрес сети: 7 бит
- Адрес хоста: 24 бита

**Класс B:** `10aaaaaa aaaaaaaa bbbbbbbb bbbbbbbb`

- Адрес сети: 14 бит
- Адрес хоста: 16 бит

**Класс C:** `110aaaaa aaaaaaaa aaaaaaaa bbbbbbbb`

- Адрес сети: 21 бит
- Адрес хоста: 8 бит

**Класс D:** `1110сссс сссссссс сссссссс сссссссс`

- Адрес многоадресной рассылки: 28 бит

**Класс E:** `1111dddd dddddddd dddddddd dddddddd`

### Classless Inter-Domain Routing

Каждому поставщику услуг Интернета назначается непрерывный диапазон IP-адресов.

Все адреса каждого поставщика услуг имеют общую старшую часть - префикс, поэтому маршрутизация на магистралях Интернета может осуществляться на основе префиксов, а не полных адресов сетей.

Достаточно поместить одну запись сразу для всех сетей, имеющих общий префикс.

**IP:**		 `172.16.0.1`		 **Маска:**		 `255.240.0.0`

*Сокращенно:* `172.16.0.1/12`

## Протоколы маршрутизации

- Не требующие таблиц маршрутизации

  *Лавинная, от источника*

- Требующие таблиц маршрутизации

  - Статические

    *Админ сам заполняет таблицы*

  - Адаптивные

    - Дистанционно-векторные
    - Состояния связей

### [RIP](rip.html)

### [OSPF](ospf.html)

## Административное расстояние

Это степень надежности источника маршрутной информации. Используется маршрутизаторами для выбора оптимального маршрута при начилии разных маршрутов до одной цели по разным протоколам маршрутизации. 

Каждому протоколу назначается приоритет надежности

| Источник маршрута                       | Расстояние по умолчанию |
| --------------------------------------- | ----------------------- |
| Подключенный интерфейс                  | 0                       |
| Статический маршрут                     | 1                       |
| Объединенный маршрут по протоколу EIGRP | 5                       |
| Протокол BGP                            | 20                      |
| Внутренний протокол EIGRP               | 90                      |
| Протокол IGRP                           | 100                     |
| Протокол OSPF                           | 110                     |
| Протокол IS-IS                          | 115                     |
| Протокол RIP                            | 120                     |
| Протокол EGP                            | 140                     |
| Протокол ODR                            | 160                     |
| Внешний протокол EIGRP                  | 170                     |
| Внутренний протокол BGP                 | 200                     |
| Неизвестный источник                    | 255                     |

