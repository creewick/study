<script type="text/x-mathjax-config">MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$'], ['\(','\)']]}});</script><script src='https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML' async></script>
[home](../) > [inet](./) > http

# Протокол HTTP

**Hyper-Text Transfer Protocol** – протокол передачи гипертекста 

[TOC]

## История

* **1992**:	Появилась версия 0.9, очень простая, с одним методом - GET

* **1997**:	RFC 1945, с описанием HTTP/1.0

* **1999**:	Обновление HTTP/1.1, RFC 2616.

  ​		Этот стандарт продержался 15 лет.

  ​		За это время вышли RFC 2817, 5785, 6266, 6585, которые определили дополнительные заголовки, переключение на TLS, коды состояния.

* **2014**:	RFC 7230 - 7235 об HTTP/1.1, отменяющие устаревший RFC 2616. Каждый из этих документов описывает отдельный аспект HTTP - синтаксис, кэширование, способы авторизации..

* **2015**:	RFC 7540, 7541, с описанием HTTP/2.0.

  ​		В отличие от предыдущих версий, HTTP/2.0 является бинарным. Из нового также: мультиплексирование запросов, расстановка приоритетов для запросов, сжатие заголовков, загрузка нескольких элементов параллельно, посредством одного TCP-соединения; поддержка push-уведомлений со стороны сервера

## Принцип действия

**Сервер** - компьютер, выделенный для выполнения сервисных функций

**Сервер** - ПО, принимающее запросы от клиентов

1. Клиент посылает запрос по типу "Дай мне документ /docs/index.html"
2. Сервер обрабатывает запрос и отвечает "ОК, во запрошенный документ. Его формат .html, его длина 3051 байт."

## Посредники

В простейшем случае запрос клиента может быть реализован путем соединения пользовательского агента и базового сервера.

Однако, бывают случаи, когда присутствует один или более посредников в цепочке обслуживания. Существует три стандартные формы посредников:

* **Прокси** - получает запрос, изменяет какую-то его часть и отправляет дальше
* **Внешний порт (gateway)** - приемник, который работает на уровень выше некоторых других серверов и транслирует, если необходимо, запрос нижележащему протоколу сервера
* **Туннель** - действует как соединитель точка-точка и не производит никаких изменений. 

Любой участник обмена, кроме туннеля, может воспользоваться кэшем для запоминания запросов.

## Формат сообщений

###Формат запроса

1. Стартовая строка

   `метод` `URI` `версия`

2. Заголовки

   `заголовок` : `значение`

3. Тело сообщения

   ```http
   GET /title.gif HTTP/1.1
   Host: example.org
   ```

### Формат ответа

1. Стартовая строка

   `версия` `код` `пояснение`

2. Заголовки

3. Тело сообщения

   ```http
   HTTP/1.1 200 OK
   Content-type: image/gif
   Content-length: 5346
   ```

### Методы HTTP

* **GET** - Запрос документа с сервера
* **HEAD** - Запрос заголовков документа с сервера
* **POST** - Отправка данных на сервер для обработки
* **PUT** - Сохранение данных из тела запроса на сервере
* **DELETE** - Удаление документа с сервера
* **CONNECT** - Преобразование соединение запроса в прозрачный TCP/IP туннель
* **TRACE** - Трассировка сообщения через прокси до сервера назначения
* **OPTION** - Запрос опций сервера или ресурса

Не обязательно поддерживать все методы. Чтобы быть совместимым с HTTP/1.1, сервер должен поддерживать методы GET и HEAD.

Даже если сервер поддерживает все методы, их использование ограничено политикой безопасности.

